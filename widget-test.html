<!-- <!DOCTYPE html>
<html>
  <body>
    <keycloak-widget
      navigatePath="/dashboard"
      mainButtonStyle='{"backgroundColor":"red !important","color":"white","border":"none"}'
    >
    </keycloak-widget>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/ManojColibriDEV/cdn-demo@main/dist/login-widget.css"
    />

    <script src="https://cdn.jsdelivr.net/gh/ManojColibriDEV/cdn-demo@main/dist/keycloak-widget.umd.js"></script>
  </body>
</html> -->


<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="./dist/login-widget.css" />
  </head>
  <body>
    <keycloak-widget
      id="auth"
      redirectUrl="http://127.0.0.1:5500/widget-test.html"
    >
    </keycloak-widget>

    <script src="./dist/keycloak-widget.umd.js"></script>
    
    <script>
      // Listen for redirect event from the widget
      document.getElementById("auth")
        .addEventListener("redirect", function(e) {
          console.log("Redirect event received:", e.detail.url);
          console.log("User session:", e.detail.userSession);
          
          // User session is already saved in localStorage with key "user_session"
          // You can also access it from the event
          const userSession = e.detail.userSession;
          
          // Handle the redirect in your application
          // window.location.href = e.detail.url;
        });
    </script>
  </body>
</html>
