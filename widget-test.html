<!DOCTYPE html>
<html>

<head>
  <title>Colibri Identity Widget Test</title>
</head>

<body>
  <h1>Colibri Identity Widget - Local Test</h1>

  <!-- Widget with custom callback URL -->
  <keycloak-widget id="auth" environment="development" subsidiary="allied"
  isShowToggle="false"
    callbackUrl="http://127.0.0.1:5500/widget-test.html">
  </keycloak-widget>

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/ManojColibriDEV/cdn-demo@v1.1.5/dist/login-widget.css" />
  <script src="https://cdn.jsdelivr.net/gh/ManojColibriDEV/cdn-demo@v1.1.5/dist/keycloak-widget.umd.js"></script>

  <script>
    // Listen for redirect event from the widget
    document.getElementById("auth")
      .addEventListener("redirect", function (e) {
        // User session is already saved in localStorage with key "user_session"
        // You can also access it from the event
        const { tokens, userInfo, userSession } = e.detail;
        console.log({ tokens, userInfo, userSession });
        alert("User authenticated successfully!");
        // Use this link to redirect to the page where ever rquired after authentication
        //  window.location.href = "/";

      });
  </script>
</body>

</html>