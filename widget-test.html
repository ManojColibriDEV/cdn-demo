<!DOCTYPE html>
<html>

<head>
  <title>Colibri Identity Widget Test</title>
</head>

<body>
  <h1>Colibri Identity Widget - Local Test</h1>

  <!-- Widget with simplified authority - just pass "dev", "staging", or "prod" -->
  <!-- Or omit authority to auto-detect from domain -->
  <keycloak-widget id="auth" authority="dev" subsidiary="elite" isShowToggle="false"
    callbackUrl="http://127.0.0.1:5500/widget-test.html"
    redirectUrl="https://dev-learn.elitelearning.com/courses">
  </keycloak-widget>

  <link rel="stylesheet" href="./dist/login-widget.css" />
  <script src="./dist/keycloak-widget.umd.js"></script>

  <script>
    // Listen for redirect event from the widget
    // document.getElementById("auth")
    //   .addEventListener("redirect", function (e) {
    //     // User session is already saved in localStorage with key "user_session"
    //     // You can also access it from the event
    //     const { url, userSession } = e.detail;
    //     console.log('Redirect event received:', { url, userSession });
        
    //     // The widget will handle the redirect automatically
    //     // Or you can customize it here:
    //     // window.location.href = url;
    //   });
  </script>
</body>

</html>